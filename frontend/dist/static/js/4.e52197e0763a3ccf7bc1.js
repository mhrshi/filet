(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{B53W:function(t,e,s){"use strict";var i=s("ZB8d");s.n(i).a},RO33:function(t,e,s){"use strict";s.r(e);var i=s("o0o1"),a=s.n(i),n=s("yXPU"),c=s.n(n),r={name:"StudentDash",data:function(){return{dialog:!1,snackbar:!1,snackbarColor:"",snackbarMessage:"",editedIndex:-1,editedItem:{id:"",name:"",fileid:""},defaultItem:{id:"",name:"",fileid:""},select:{},subjects:[],headers:[{text:"Number",align:"center",sortable:!1,value:"id"},{text:"Name",align:"center",sortable:!1,value:"name"},{text:"File ID",align:"center",sortable:!1,value:"fileid"},{text:"Edit",align:"center",sortable:!1,value:"edit"}],practicals:[],IT0501:[],IT0502:[],IT0504:[],IT0604:[],overflowItems:[{title:"Logout"}]}},methods:{subjectChange:function(t){var e=this;this.select.endsWith("04")?this.practicals=[]:this[this.select].length>0?this.practicals=this[this.select]:fetch("/secure/practicals",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({subject:this.select.toLowerCase(),username:this.$store.state.username})}).then(function(t){return t.json()}).then(function(t){e.practicals=t,e[e.select]=t}).catch(function(t){})},editItem:function(t){this.editedIndex=this.practicals.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},close:function(){this.dialog=!1,this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},save:function(){var t=this,e=this.editedItem.fileid;if(null===e||e.length>0&&-1===e.indexOf("="))return this.close(),void this.showSnackbar("error","Incorrect File ID");this.editedItem.fileid=e.slice(e.indexOf("=")+1),Object.assign(this.practicals[this.editedIndex],this.editedItem),this[this.select]=this.practicals,fetch("/secure/revise",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({subject:this.select.toLowerCase(),username:this.$store.state.username,fileid:this.editedItem.fileid,pracid:this.editedItem.id})}).then(function(t){return t.json()}).then(function(e){200===e.code?t.showSnackbar("success","File ID saved successfully"):t.showSnackbar("error","Error saving File ID")}),this.close()},showSnackbar:function(t,e){this.snackbarColor=t,this.snackbarMessage=e,this.snackbar=!0},onLogout:function(){document.cookie="FiletLog=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",this.$store.commit("update",{prefix:"",username:""}),this.$router.push("/login")}},watch:{dialog:function(t){t||this.close()}},mounted:function(){var t=c()(a.a.mark(function t(){var e=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$route.params.id!==this.$store.state.username&&this.$router.replace("/student/".concat(this.$store.state.username)),fetch("/secure/subjects").then(function(t){return t.json()}).then(function(t){e.subjects=t});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},l=(s("B53W"),s("KHd+")),o=Object(l.a)(r,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-toolbar",{attrs:{prominent:""}},[s("v-toolbar-title",{staticClass:"headline"},[t._v("Filet")]),t._v(" "),s("v-spacer"),t._v(" "),s("v-menu",{attrs:{"offset-y":""}},[s("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[s("v-icon",[t._v("more_vert")])],1),t._v(" "),s("v-list",t._l(t.overflowItems,function(e,i){return s("v-list-tile",{key:i,on:{click:t.onLogout}},[s("v-list-tile-title",[t._v(t._s(e.title))])],1)}))],1)],1),t._v(" "),s("main",[s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",lg8:"",xl8:""}},[s("v-flex",{staticClass:"subject-select",attrs:{xs12:"",sm6:"",md6:"",lg6:"",xl4:""}},[s("v-select",{staticClass:"select-subject",attrs:{items:t.subjects,"item-text":"name","item-value":"id",label:"Subject",solo:""},on:{change:t.subjectChange},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"font-weight-regular title"},[t._v("Edit File ID")])]),t._v(" "),s("v-card-text",[s("v-container",[s("v-text-field",{attrs:{label:"File ID"},model:{value:t.editedItem.fileid,callback:function(e){t.$set(t.editedItem,"fileid",e)},expression:"editedItem.fileid"}})],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Save")])],1)],1)],1),t._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"no-data-text":"Please select a subject :)",items:t.practicals,"hide-actions":"","must-sort":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.id))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.fileid))]),t._v(" "),s("td",{staticClass:"justify-center align-center layout px-0"},[s("v-icon",{on:{click:function(s){t.editItem(e.item)}}},[t._v("edit")])],1)]}}])}),t._v(" "),s("v-snackbar",{attrs:{bottom:"",left:"",color:t.snackbarColor,timeout:6e3},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.snackbarMessage)+"\n\t\t\t\t\t\t"),s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n\t\t\t\t\t\t\tclose\n\t\t\t\t\t\t")])],1)],1)],1)],1)],1)],1)},[],!1,null,"1001b8ec",null);o.options.__file="StudentDash.vue";e.default=o.exports},ZB8d:function(t,e,s){}}]);